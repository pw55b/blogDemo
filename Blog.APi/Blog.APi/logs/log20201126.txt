2020-11-26 13:36:30.712 +08:00 [INF] Hello, world!
2020-11-26 13:36:34.794 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 13:36:35.372 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 13:36:35.375 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 13:36:35.378 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 13:36:35.380 +08:00 [INF] Hosting environment: Development
2020-11-26 13:36:35.382 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 13:36:38.241 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 13:36:38.269 +08:00 [INF] Request finished in 31.1392ms 307 
2020-11-26 13:36:38.365 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 13:36:38.382 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 13:36:38.389 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 13:36:38.390 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 13:36:38.393 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 13:36:38.394 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 13:36:38.394 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 13:36:38.527 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 13:36:38.582 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 13:36:39.117 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 13:36:39.979 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 13:36:41.503 +08:00 [INF] Executed DbCommand (701ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 13:36:41.687 +08:00 [INF] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 13:36:41.860 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2729.8493ms.
2020-11-26 13:36:41.874 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 13:36:42.038 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 3447.6076ms
2020-11-26 13:36:42.042 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 13:36:42.047 +08:00 [INF] Generating expiration headers.
2020-11-26 13:36:42.052 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 05:37:42 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 13:36:42.058 +08:00 [INF] Generating Validation headers.
2020-11-26 13:36:42.072 +08:00 [INF] Validation headers generated. ETag: Strong, "FFD7A4ADF3C75B6C25A77138DB5F70EE". Last-Modified: Thu, 26 Nov 2020 05:36:42 GMT
2020-11-26 13:36:42.077 +08:00 [INF] Generating Vary header.
2020-11-26 13:36:42.080 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 13:36:42.099 +08:00 [INF] Request finished in 3734.1024ms 200 application/json; charset=utf-8
2020-11-26 13:36:42.232 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 13:36:42.235 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 13:36:42.237 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 13:36:42.238 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 13:36:42.240 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 13:36:42.244 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 13:36:42.246 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 13:36:42.249 +08:00 [INF] Generating expiration headers.
2020-11-26 13:36:42.253 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 05:37:42 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 13:36:42.259 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 13:36:42.263 +08:00 [INF] Generating Vary header.
2020-11-26 13:36:42.265 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 13:36:42.267 +08:00 [INF] Request finished in 35.7161ms 404 
2020-11-26 13:37:09.337 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post？  
2020-11-26 13:37:09.342 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 13:37:09.343 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 13:37:09.346 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 13:37:09.351 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 13:37:09.354 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 13:37:09.355 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 13:37:09.372 +08:00 [INF] Generating expiration headers.
2020-11-26 13:37:09.374 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 05:38:09 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 13:37:09.377 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 13:37:09.378 +08:00 [INF] Generating Vary header.
2020-11-26 13:37:09.380 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 13:37:09.384 +08:00 [INF] Request finished in 46.9173ms 404 
2020-11-26 13:37:22.503 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 13:37:22.508 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 13:37:22.511 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 13:37:22.514 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 13:37:22.516 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 13:37:22.518 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 13:37:22.522 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 13:37:22.528 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 13:37:22.531 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 13:37:22.569 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 13:37:22.606 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 13:37:22.624 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 13:37:22.632 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 13:37:22.643 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.5103ms.
2020-11-26 13:37:22.649 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 13:37:22.653 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 116.5955ms
2020-11-26 13:37:22.657 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 13:37:22.659 +08:00 [INF] Generating expiration headers.
2020-11-26 13:37:22.660 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 05:38:22 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 13:37:22.663 +08:00 [INF] Generating Validation headers.
2020-11-26 13:37:22.667 +08:00 [INF] Validation headers generated. ETag: Strong, "487E522EEDFC2BACE844A1650A31400E". Last-Modified: Thu, 26 Nov 2020 05:37:22 GMT
2020-11-26 13:37:22.669 +08:00 [INF] Generating Vary header.
2020-11-26 13:37:22.671 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 13:37:22.674 +08:00 [INF] Request finished in 172.2134ms 200 application/json; charset=utf-8
2020-11-26 13:37:22.882 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 13:37:22.898 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 13:37:22.903 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 13:37:22.906 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 13:37:22.908 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 13:37:22.910 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 13:37:22.912 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 13:37:22.915 +08:00 [INF] Generating expiration headers.
2020-11-26 13:37:22.917 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 05:38:22 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 13:37:22.921 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 13:37:22.923 +08:00 [INF] Generating Vary header.
2020-11-26 13:37:22.925 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 13:37:22.928 +08:00 [INF] Request finished in 48.0718ms 404 
2020-11-26 13:38:07.838 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post?pagesize=100  
2020-11-26 13:38:07.848 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 13:38:07.851 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 13:38:07.853 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 13:38:07.855 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 13:38:07.856 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 13:38:07.859 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 13:38:07.863 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 13:38:07.866 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 13:38:07.902 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 13:38:07.913 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 13:38:07.924 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 13:38:07.932 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 13:38:07.939 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.9695ms.
2020-11-26 13:38:07.945 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 13:38:07.948 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 77.3523ms
2020-11-26 13:38:07.949 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 13:38:07.952 +08:00 [INF] Generating expiration headers.
2020-11-26 13:38:07.953 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 05:39:07 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 13:38:07.955 +08:00 [INF] Generating Validation headers.
2020-11-26 13:38:07.956 +08:00 [INF] Validation headers generated. ETag: Strong, "79703593E4DA9DEE51FDB5B996E216AB". Last-Modified: Thu, 26 Nov 2020 05:38:07 GMT
2020-11-26 13:38:07.959 +08:00 [INF] Generating Vary header.
2020-11-26 13:38:07.962 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 13:38:07.964 +08:00 [INF] Request finished in 126.8988ms 200 application/json; charset=utf-8
2020-11-26 16:40:53.145 +08:00 [INF] Hello, world!
2020-11-26 16:40:57.633 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 16:40:58.329 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 16:40:58.350 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 16:40:58.352 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 16:40:58.360 +08:00 [INF] Hosting environment: Development
2020-11-26 16:40:58.367 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 16:41:01.484 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 16:41:01.510 +08:00 [INF] Request finished in 28.6639ms 307 
2020-11-26 16:41:01.626 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 16:41:01.655 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 16:41:01.666 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 16:41:01.672 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 16:41:01.676 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 16:41:01.678 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 16:41:01.679 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 16:41:01.777 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:41:01.824 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 16:41:02.281 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 16:41:02.964 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 16:41:03.812 +08:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 16:41:03.931 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 16:42:32.636 +08:00 [INF] Hello, world!
2020-11-26 16:42:35.376 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 16:42:35.835 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 16:42:35.838 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 16:42:35.840 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 16:42:35.841 +08:00 [INF] Hosting environment: Development
2020-11-26 16:42:35.843 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 16:42:37.486 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 16:42:37.519 +08:00 [INF] Request finished in 35.4305ms 307 
2020-11-26 16:42:37.611 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 16:42:37.631 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 16:42:37.639 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 16:42:37.640 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 16:42:37.644 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 16:42:37.645 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 16:42:37.647 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 16:42:37.753 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:42:37.802 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 16:42:38.303 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 16:42:39.159 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 16:42:40.039 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 16:42:40.200 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 16:42:58.737 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20420.9766ms.
2020-11-26 16:42:58.751 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 16:42:58.939 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 21127.1669ms
2020-11-26 16:42:58.943 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:42:58.949 +08:00 [INF] Generating expiration headers.
2020-11-26 16:42:58.953 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 08:43:58 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 16:42:58.957 +08:00 [INF] Generating Validation headers.
2020-11-26 16:42:58.969 +08:00 [INF] Validation headers generated. ETag: Strong, "C5CF2F1F0E365CF33706BE81457B2104". Last-Modified: Thu, 26 Nov 2020 08:42:58 GMT
2020-11-26 16:42:58.973 +08:00 [INF] Generating Vary header.
2020-11-26 16:42:58.974 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 16:42:58.989 +08:00 [INF] Request finished in 21378.7114ms 200 application/json; charset=utf-8
2020-11-26 16:42:59.112 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 16:42:59.118 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 16:42:59.121 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 16:42:59.124 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 16:42:59.127 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 16:42:59.130 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 16:42:59.133 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 16:42:59.137 +08:00 [INF] Generating expiration headers.
2020-11-26 16:42:59.140 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 08:43:59 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 16:42:59.143 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 16:42:59.145 +08:00 [INF] Generating Vary header.
2020-11-26 16:42:59.147 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 16:42:59.150 +08:00 [INF] Request finished in 37.6091ms 404 
2020-11-26 16:43:08.656 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 16:43:08.660 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 16:43:08.662 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 16:43:08.665 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 16:43:08.669 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 16:43:08.672 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 16:43:08.673 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 16:43:08.678 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:43:08.681 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 16:43:08.713 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 16:43:08.745 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 16:43:08.759 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 16:43:08.772 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 16:43:11.902 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3186.5441ms.
2020-11-26 16:43:11.907 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 16:43:11.912 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 3221.9768ms
2020-11-26 16:43:11.919 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:43:11.921 +08:00 [INF] Generating expiration headers.
2020-11-26 16:43:11.922 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 08:44:11 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 16:43:11.924 +08:00 [INF] Generating Validation headers.
2020-11-26 16:43:11.927 +08:00 [INF] Validation headers generated. ETag: Strong, "45F86D9FE5343132B4CC474B06A6A3C5". Last-Modified: Thu, 26 Nov 2020 08:43:11 GMT
2020-11-26 16:43:11.934 +08:00 [INF] Generating Vary header.
2020-11-26 16:43:11.937 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 16:43:11.940 +08:00 [INF] Request finished in 3283.3986ms 200 application/json; charset=utf-8
2020-11-26 16:55:38.056 +08:00 [INF] Hello, world!
2020-11-26 16:55:40.885 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 16:55:41.311 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 16:55:41.313 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 16:55:41.315 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 16:55:41.317 +08:00 [INF] Hosting environment: Development
2020-11-26 16:55:41.318 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 16:55:43.252 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 16:55:43.273 +08:00 [INF] Request finished in 22.9914ms 307 
2020-11-26 16:55:43.373 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 16:55:43.390 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 16:55:43.396 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 16:55:43.397 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 16:55:43.399 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 16:55:43.401 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 16:55:43.402 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 16:55:43.482 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:55:43.528 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 16:55:43.952 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 16:55:44.610 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 16:55:45.075 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 1538.5668ms
2020-11-26 16:55:45.079 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:55:45.086 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Lambda expression used inside Include is not valid.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Blog.Infrastructure.Repositories.PostRepository.GetAllPostsAsync(PostResourceParameters parameters) in E:\vs项目\blog3.1\Blog.APi\Blog.Infrastructure\Repositories\PostRepository.cs:line 52
   at Blog.APi.Controllers.PostController.GetPosts(PostResourceParameters parameters) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\Controllers\PostController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 16:55:45.281 +08:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
Object name: 'destination'.
   at System.IO.StreamHelpers.ValidateCopyToArgs(Stream source, Stream destination, Int32 bufferSize)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 16:55:45.299 +08:00 [ERR] Connection id "0HM4HT46R1I42", Request id "0HM4HT46R1I42:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Lambda expression used inside Include is not valid.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Blog.Infrastructure.Repositories.PostRepository.GetAllPostsAsync(PostResourceParameters parameters) in E:\vs项目\blog3.1\Blog.APi\Blog.Infrastructure\Repositories\PostRepository.cs:line 52
   at Blog.APi.Controllers.PostController.GetPosts(PostResourceParameters parameters) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\Controllers\PostController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2020-11-26 16:55:45.356 +08:00 [INF] Request finished in 1983.2343ms 500 
2020-11-26 16:57:24.972 +08:00 [INF] Hello, world!
2020-11-26 16:57:27.753 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 16:57:28.175 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 16:57:28.177 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 16:57:28.179 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 16:57:28.180 +08:00 [INF] Hosting environment: Development
2020-11-26 16:57:28.181 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 16:57:29.893 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 16:57:29.923 +08:00 [INF] Request finished in 35.1945ms 307 
2020-11-26 16:57:30.018 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 16:57:30.040 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 16:57:30.047 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 16:57:30.048 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 16:57:30.052 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 16:57:30.053 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 16:57:30.055 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 16:57:30.151 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 16:57:30.197 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 16:57:30.677 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 16:57:31.433 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 16:57:32.252 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title], [t].[PostId], [t].[CategoryId], [t].[Id], [t].[Name], [t].[Note]
FROM [Posts] AS [p]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[LastModified], [p].[Id], [t].[PostId], [t].[CategoryId], [t].[Id]
2020-11-26 16:59:57.693 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:00:08.190 +08:00 [INF] Executed DbCommand (123ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:00:31.977 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181289.2396ms.
2020-11-26 17:00:31.990 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 17:00:32.171 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 181964.8576ms
2020-11-26 17:00:32.174 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:00:32.181 +08:00 [INF] Generating expiration headers.
2020-11-26 17:00:32.184 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:01:32 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:00:32.189 +08:00 [INF] Generating Validation headers.
2020-11-26 17:00:32.200 +08:00 [INF] Validation headers generated. ETag: Strong, "C5CF2F1F0E365CF33706BE81457B2104". Last-Modified: Thu, 26 Nov 2020 09:00:32 GMT
2020-11-26 17:00:32.203 +08:00 [INF] Generating Vary header.
2020-11-26 17:00:32.205 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:00:32.217 +08:00 [INF] Request finished in 182198.6885ms 200 application/json; charset=utf-8
2020-11-26 17:00:32.310 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 17:00:32.313 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:00:32.314 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:00:32.316 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:00:32.319 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:00:32.322 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:00:32.324 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:00:32.328 +08:00 [INF] Generating expiration headers.
2020-11-26 17:00:32.331 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:01:32 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:00:32.337 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 17:00:32.339 +08:00 [INF] Generating Vary header.
2020-11-26 17:00:32.342 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:00:32.346 +08:00 [INF] Request finished in 36.5052ms 404 
2020-11-26 17:01:05.651 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 17:01:05.656 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:01:05.659 +08:00 [INF] No saved response found in store.
2020-11-26 17:01:05.661 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:01:05.663 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:01:05.664 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:01:05.665 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:01:05.672 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:01:05.674 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 17:01:05.706 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 17:01:05.754 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 17:01:05.771 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title], [t].[PostId], [t].[CategoryId], [t].[Id], [t].[Name], [t].[Note]
FROM [Posts] AS [p]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[LastModified], [p].[Id], [t].[PostId], [t].[CategoryId], [t].[Id]
2020-11-26 17:01:09.768 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:01:09.778 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:32:42.421 +08:00 [INF] Hello, world!
2020-11-26 17:32:45.106 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 17:32:45.540 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 17:32:45.543 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 17:32:45.545 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 17:32:45.546 +08:00 [INF] Hosting environment: Development
2020-11-26 17:32:45.548 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 17:32:47.377 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 17:32:47.400 +08:00 [INF] Request finished in 24.8926ms 307 
2020-11-26 17:32:47.507 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 17:32:47.524 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:32:47.529 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:32:47.531 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:32:47.533 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:32:47.534 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:32:47.535 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:32:47.618 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:32:47.663 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 17:32:48.111 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 17:32:48.745 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 17:32:49.503 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title], [t].[PostId], [t].[CategoryId], [t].[Id], [t].[Name], [t].[Note]
FROM [Posts] AS [p]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[LastModified], [p].[Id], [t].[PostId], [t].[CategoryId], [t].[Id]
2020-11-26 17:32:52.398 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:32:52.504 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:33:11.813 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23690.6357ms.
2020-11-26 17:33:11.826 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 17:33:12.058 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 24385.0023ms
2020-11-26 17:33:12.062 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:33:12.073 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'Blog.Core.Entities.PostCategory'. Path '[10].categories[0].postCategories[0].post.postCategories'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 17:33:12.212 +08:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
Object name: 'destination'.
   at System.IO.StreamHelpers.ValidateCopyToArgs(Stream source, Stream destination, Int32 bufferSize)
   at System.IO.MemoryStream.CopyToAsync(Stream destination, Int32 bufferSize, CancellationToken cancellationToken)
   at System.IO.Stream.CopyToAsync(Stream destination)
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 17:33:12.230 +08:00 [ERR] Connection id "0HM4HTOTLEI6J", Request id "0HM4HTOTLEI6J:00000001": An unhandled exception was thrown by the application.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'Blog.Core.Entities.PostCategory'. Path '[10].categories[0].postCategories[0].post.postCategories'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2020-11-26 17:33:12.300 +08:00 [INF] Request finished in 24793.2573ms 500 
2020-11-26 17:36:43.374 +08:00 [INF] Hello, world!
2020-11-26 17:36:45.785 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 17:36:46.245 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 17:36:46.247 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 17:36:46.249 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 17:36:46.251 +08:00 [INF] Hosting environment: Development
2020-11-26 17:36:46.253 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 17:36:48.154 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 17:36:48.177 +08:00 [INF] Request finished in 25.7517ms 307 
2020-11-26 17:36:48.244 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 17:36:48.262 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:36:48.269 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:36:48.271 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:36:48.274 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:36:48.275 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:36:48.275 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:36:48.368 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:36:48.424 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 17:36:48.915 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 17:36:49.576 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 17:36:50.455 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title], [t].[PostId], [t].[CategoryId], [t].[Id], [t].[Name], [t].[Note]
FROM [Posts] AS [p]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[LastModified], [p].[Id], [t].[PostId], [t].[CategoryId], [t].[Id]
2020-11-26 17:36:56.375 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:36:56.489 +08:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:37:16.705 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27776.3486ms.
2020-11-26 17:37:16.718 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 17:37:16.902 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 28468.0578ms
2020-11-26 17:37:16.904 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:37:16.910 +08:00 [INF] Generating expiration headers.
2020-11-26 17:37:16.913 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:38:16 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:37:16.920 +08:00 [INF] Generating Validation headers.
2020-11-26 17:37:16.935 +08:00 [INF] Validation headers generated. ETag: Strong, "4388A36D21A92E58716FD9B5E3F7DC80". Last-Modified: Thu, 26 Nov 2020 09:37:16 GMT
2020-11-26 17:37:16.941 +08:00 [INF] Generating Vary header.
2020-11-26 17:37:16.945 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:37:16.961 +08:00 [INF] Request finished in 28716.8707ms 200 application/json; charset=utf-8
2020-11-26 17:37:17.081 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 17:37:17.086 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:37:17.087 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:37:17.090 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:37:17.093 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:37:17.095 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:37:17.097 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:37:17.100 +08:00 [INF] Generating expiration headers.
2020-11-26 17:37:17.103 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:38:17 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:37:17.106 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 17:37:17.108 +08:00 [INF] Generating Vary header.
2020-11-26 17:37:17.110 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:37:17.114 +08:00 [INF] Request finished in 32.9566ms 404 
2020-11-26 17:37:27.587 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 17:37:27.591 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:37:27.592 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:37:27.593 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:37:27.594 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:37:27.597 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:37:27.601 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:37:27.606 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:37:27.608 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 17:37:27.649 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 17:37:27.691 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 17:37:27.702 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title], [t].[PostId], [t].[CategoryId], [t].[Id], [t].[Name], [t].[Note]
FROM [Posts] AS [p]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[LastModified], [p].[Id], [t].[PostId], [t].[CategoryId], [t].[Id]
2020-11-26 17:37:29.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:37:29.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:37:32.666 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5014.6808ms.
2020-11-26 17:37:32.672 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 17:37:32.675 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 5056.9202ms
2020-11-26 17:37:32.679 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:37:32.682 +08:00 [INF] Generating expiration headers.
2020-11-26 17:37:32.683 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:38:32 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:37:32.685 +08:00 [INF] Generating Validation headers.
2020-11-26 17:37:32.690 +08:00 [INF] Validation headers generated. ETag: Strong, "D0CD7282E2D58128F8CA3E19B24BFBDB". Last-Modified: Thu, 26 Nov 2020 09:37:32 GMT
2020-11-26 17:37:32.692 +08:00 [INF] Generating Vary header.
2020-11-26 17:37:32.694 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:37:32.698 +08:00 [INF] Request finished in 5111.7825ms 200 application/json; charset=utf-8
2020-11-26 17:51:47.753 +08:00 [INF] Hello, world!
2020-11-26 17:51:51.069 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 17:51:51.552 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 17:51:51.554 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 17:51:51.556 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 17:51:51.558 +08:00 [INF] Hosting environment: Development
2020-11-26 17:51:51.560 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 17:51:53.569 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 17:51:53.603 +08:00 [INF] Request finished in 36.9374ms 307 
2020-11-26 17:51:53.698 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 17:51:53.715 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:51:53.721 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:51:53.722 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:51:53.726 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:51:53.728 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:51:53.729 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:51:53.844 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:51:53.902 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 17:51:54.357 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 17:51:55.069 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 17:52:01.793 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:52:01.918 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:52:03.972 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9602.9197ms.
2020-11-26 17:52:03.985 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 17:52:04.167 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 10256.845ms
2020-11-26 17:52:04.171 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:52:04.177 +08:00 [INF] Generating expiration headers.
2020-11-26 17:52:04.180 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:53:04 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:52:04.185 +08:00 [INF] Generating Validation headers.
2020-11-26 17:52:04.196 +08:00 [INF] Validation headers generated. ETag: Strong, "2AFBD4F943907FD4C4F7CEC60276C19C". Last-Modified: Thu, 26 Nov 2020 09:52:04 GMT
2020-11-26 17:52:04.200 +08:00 [INF] Generating Vary header.
2020-11-26 17:52:04.202 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:52:04.214 +08:00 [INF] Request finished in 10515.9666ms 200 application/json; charset=utf-8
2020-11-26 17:52:04.329 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 17:52:04.333 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:52:04.334 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:52:04.335 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:52:04.337 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:52:04.341 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:52:04.343 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:52:04.346 +08:00 [INF] Generating expiration headers.
2020-11-26 17:52:04.347 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:53:04 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:52:04.351 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 17:52:04.353 +08:00 [INF] Generating Vary header.
2020-11-26 17:52:04.356 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:52:04.358 +08:00 [INF] Request finished in 29.1415ms 404 
2020-11-26 17:52:20.929 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 17:52:20.933 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 17:52:20.936 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 17:52:20.938 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 17:52:20.941 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 17:52:20.943 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 17:52:20.946 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 17:52:20.951 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:52:20.954 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 17:52:20.987 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 17:52:21.023 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 17:52:25.670 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2020-11-26 17:52:25.679 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 17:52:39.397 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18407.6996ms.
2020-11-26 17:52:39.404 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 17:52:39.408 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 18447.0051ms
2020-11-26 17:52:39.412 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 17:52:39.415 +08:00 [INF] Generating expiration headers.
2020-11-26 17:52:39.417 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 09:53:39 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 17:52:39.421 +08:00 [INF] Generating Validation headers.
2020-11-26 17:52:39.423 +08:00 [INF] Validation headers generated. ETag: Strong, "73D6C4DF4AEDDD9D00B3CC4EFD127111". Last-Modified: Thu, 26 Nov 2020 09:52:39 GMT
2020-11-26 17:52:39.425 +08:00 [INF] Generating Vary header.
2020-11-26 17:52:39.427 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 17:52:39.431 +08:00 [INF] Request finished in 18503.1155ms 200 application/json; charset=utf-8
2020-11-26 18:00:57.244 +08:00 [INF] Hello, world!
2020-11-26 18:00:59.847 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 18:01:00.315 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 18:01:00.318 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 18:01:00.320 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 18:01:00.322 +08:00 [INF] Hosting environment: Development
2020-11-26 18:01:00.323 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 18:01:02.155 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 18:01:02.181 +08:00 [INF] Request finished in 28.8754ms 307 
2020-11-26 18:01:02.256 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 18:01:02.275 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:01:02.281 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:01:02.283 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:01:02.286 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:01:02.287 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:01:02.288 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:01:02.397 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:01:02.448 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 18:01:02.870 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 18:01:03.525 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 18:01:04.282 +08:00 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 18:01:04.425 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 18:01:34.319 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31438.4382ms.
2020-11-26 18:01:34.332 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 18:01:34.503 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 32045.0504ms
2020-11-26 18:01:34.507 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:01:34.513 +08:00 [INF] Generating expiration headers.
2020-11-26 18:01:34.516 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:02:34 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:01:34.520 +08:00 [INF] Generating Validation headers.
2020-11-26 18:01:34.532 +08:00 [INF] Validation headers generated. ETag: Strong, "4388A36D21A92E58716FD9B5E3F7DC80". Last-Modified: Thu, 26 Nov 2020 10:01:34 GMT
2020-11-26 18:01:34.535 +08:00 [INF] Generating Vary header.
2020-11-26 18:01:34.537 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:01:34.561 +08:00 [INF] Request finished in 32304.1972ms 200 application/json; charset=utf-8
2020-11-26 18:01:34.675 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 18:01:34.679 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:01:34.681 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:01:34.684 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:01:34.687 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:01:34.689 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:01:34.691 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:01:34.694 +08:00 [INF] Generating expiration headers.
2020-11-26 18:01:34.696 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:02:34 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:01:34.699 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 18:01:34.700 +08:00 [INF] Generating Vary header.
2020-11-26 18:01:34.703 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:01:34.706 +08:00 [INF] Request finished in 31.6343ms 404 
2020-11-26 18:01:40.255 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 18:01:40.259 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:01:40.261 +08:00 [INF] No saved response found in store.
2020-11-26 18:01:40.262 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:01:40.263 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:01:40.266 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:01:40.267 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:01:40.271 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:01:40.273 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 18:01:40.309 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 18:01:40.351 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 18:01:40.368 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 18:01:40.396 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 18:01:40.426 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 114.3018ms.
2020-11-26 18:01:40.433 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 18:01:40.440 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 160.1733ms
2020-11-26 18:01:40.443 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:01:40.447 +08:00 [INF] Generating expiration headers.
2020-11-26 18:01:40.451 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:02:40 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:01:40.454 +08:00 [INF] Generating Validation headers.
2020-11-26 18:01:40.458 +08:00 [INF] Validation headers generated. ETag: Strong, "D0CD7282E2D58128F8CA3E19B24BFBDB". Last-Modified: Thu, 26 Nov 2020 10:01:40 GMT
2020-11-26 18:01:40.463 +08:00 [INF] Generating Vary header.
2020-11-26 18:01:40.465 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:01:40.488 +08:00 [INF] Request finished in 233.0033ms 200 application/json; charset=utf-8
2020-11-26 18:30:10.289 +08:00 [INF] Hello, world!
2020-11-26 18:30:13.155 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 18:30:13.664 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 18:30:13.666 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 18:30:13.668 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 18:30:13.669 +08:00 [INF] Hosting environment: Development
2020-11-26 18:30:13.672 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 18:30:16.672 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 18:30:16.696 +08:00 [INF] Request finished in 27.8625ms 307 
2020-11-26 18:30:16.767 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 18:30:16.784 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:30:16.791 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:30:16.792 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:30:16.796 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:30:16.797 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:30:16.798 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:30:16.898 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:30:16.952 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 18:30:17.486 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 18:30:18.270 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 18:30:19.154 +08:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 18:30:19.239 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[LastModified]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2020-11-26 18:49:42.402 +08:00 [INF] Hello, world!
2020-11-26 18:49:44.980 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 18:49:45.420 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 18:49:45.423 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 18:49:45.425 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 18:49:45.426 +08:00 [INF] Hosting environment: Development
2020-11-26 18:49:45.427 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 18:49:47.300 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 18:49:47.326 +08:00 [INF] Request finished in 27.9376ms 307 
2020-11-26 18:49:47.413 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 18:49:47.430 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:49:47.435 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:49:47.436 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:49:47.441 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:49:47.443 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:49:47.444 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:49:47.529 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:49:47.573 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 18:49:48.087 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 18:49:48.784 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 18:49:49.599 +08:00 [INF] Executed DbCommand (75ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 18:49:49.773 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 18:50:11.905 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23806.2747ms.
2020-11-26 18:50:11.920 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 18:50:12.092 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 24510.6269ms
2020-11-26 18:50:12.094 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:50:12.101 +08:00 [INF] Generating expiration headers.
2020-11-26 18:50:12.105 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:51:12 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:50:12.110 +08:00 [INF] Generating Validation headers.
2020-11-26 18:50:12.122 +08:00 [INF] Validation headers generated. ETag: Strong, "4388A36D21A92E58716FD9B5E3F7DC80". Last-Modified: Thu, 26 Nov 2020 10:50:12 GMT
2020-11-26 18:50:12.126 +08:00 [INF] Generating Vary header.
2020-11-26 18:50:12.129 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:50:12.176 +08:00 [INF] Request finished in 24762.6838ms 200 application/json; charset=utf-8
2020-11-26 18:50:12.292 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 18:50:12.297 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:50:12.309 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:50:12.313 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:50:12.317 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:50:12.319 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:50:12.320 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:50:12.324 +08:00 [INF] Generating expiration headers.
2020-11-26 18:50:12.326 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:51:12 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:50:12.330 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 18:50:12.334 +08:00 [INF] Generating Vary header.
2020-11-26 18:50:12.336 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:50:12.339 +08:00 [INF] Request finished in 47.2521ms 404 
2020-11-26 18:50:41.679 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post?pagesize=100  
2020-11-26 18:50:41.684 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:50:41.685 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:50:41.686 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:50:41.688 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:50:41.691 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:50:41.692 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:50:41.697 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:50:41.701 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 18:50:41.739 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 18:50:41.785 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 18:50:41.810 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 18:50:41.854 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 18:50:41.887 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 145.4773ms.
2020-11-26 18:50:41.891 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 18:50:41.899 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 193.4359ms
2020-11-26 18:50:41.901 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 18:50:41.904 +08:00 [INF] Generating expiration headers.
2020-11-26 18:50:41.907 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:51:41 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:50:41.910 +08:00 [INF] Generating Validation headers.
2020-11-26 18:50:41.915 +08:00 [INF] Validation headers generated. ETag: Strong, "A995990DC701C17F17EE8209C424E1CF". Last-Modified: Thu, 26 Nov 2020 10:50:41 GMT
2020-11-26 18:50:41.920 +08:00 [INF] Generating Vary header.
2020-11-26 18:50:41.922 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:50:41.926 +08:00 [INF] Request finished in 247.5187ms 200 application/json; charset=utf-8
2020-11-26 18:50:57.118 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post/13ff2270-7776-4442-83bf-551d8bc72ff8  
2020-11-26 18:50:57.123 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 18:50:57.126 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 18:50:57.130 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 18:50:57.132 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 18:50:57.134 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 18:50:57.141 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 18:50:57.146 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPost (Blog.APi)'
2020-11-26 18:50:57.155 +08:00 [INF] Route matched with {action = "GetPost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 18:50:57.196 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPost (Blog.APi) - Validation state: "Valid"
2020-11-26 18:50:57.210 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 18:50:57.255 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 18:50:57.272 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPost (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.4255ms.
2020-11-26 18:50:57.277 +08:00 [INF] Executing ObjectResult, writing value of type 'Blog.Infrastructure.Resources.PostResource'.
2020-11-26 18:50:57.280 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPost (Blog.APi) in 117.929ms
2020-11-26 18:50:57.282 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPost (Blog.APi)'
2020-11-26 18:50:57.284 +08:00 [INF] Generating expiration headers.
2020-11-26 18:50:57.287 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 10:51:57 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 18:50:57.290 +08:00 [INF] Generating Validation headers.
2020-11-26 18:50:57.293 +08:00 [INF] Validation headers generated. ETag: Strong, "E7BECCA063A09F774133CB41C55ECA0D". Last-Modified: Thu, 26 Nov 2020 10:50:57 GMT
2020-11-26 18:50:57.296 +08:00 [INF] Generating Vary header.
2020-11-26 18:50:57.298 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 18:50:57.300 +08:00 [INF] Request finished in 182.6796ms 200 application/json; charset=utf-8
2020-11-26 19:01:40.203 +08:00 [INF] Hello, world!
2020-11-26 19:01:40.831 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 19:01:41.097 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 19:01:41.098 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 19:01:41.100 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 19:01:41.101 +08:00 [INF] Hosting environment: Development
2020-11-26 19:01:41.104 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 19:04:35.766 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 19:04:35.779 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:04:35.784 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:04:35.785 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:04:35.788 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:04:35.789 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:04:35.791 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:04:36.501 +08:00 [INF] Successfully validated the token.
2020-11-26 19:04:36.507 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:04:36.566 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:04:37.546 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:04:38.146 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 19:04:38.291 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified] DESC, [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 19:04:38.407 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 19:04:38.468 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 1890.158ms
2020-11-26 19:04:38.471 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:04:38.477 +08:00 [INF] Generating expiration headers.
2020-11-26 19:04:38.482 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:05:38 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:04:38.487 +08:00 [INF] Generating Validation headers.
2020-11-26 19:04:38.498 +08:00 [INF] Validation headers generated. ETag: Strong, "4C89657DB8DD4C5C4E79448CDC8AE35C". Last-Modified: Thu, 26 Nov 2020 11:04:38 GMT
2020-11-26 19:04:38.502 +08:00 [INF] Generating Vary header.
2020-11-26 19:04:38.503 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:04:38.521 +08:00 [INF] Request finished in 2758.0081ms 200 application/json; charset=utf-8
2020-11-26 19:10:36.648 +08:00 [INF] Application is shutting down...
2020-11-26 19:11:09.329 +08:00 [INF] Hello, world!
2020-11-26 19:11:12.183 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 19:11:12.680 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 19:11:12.683 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 19:11:12.684 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 19:11:12.686 +08:00 [INF] Hosting environment: Development
2020-11-26 19:11:12.687 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 19:11:14.809 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 19:11:14.841 +08:00 [INF] Request finished in 35.4201ms 307 
2020-11-26 19:11:14.919 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 19:11:14.938 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:11:14.944 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:11:14.946 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:11:14.950 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:11:14.951 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:11:14.952 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:11:15.045 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:11:15.088 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:11:15.544 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 19:11:16.196 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:11:16.998 +08:00 [INF] Executed DbCommand (72ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 19:11:17.144 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 19:11:17.248 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1692.9107ms.
2020-11-26 19:11:17.260 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 19:11:17.412 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 2315.7982ms
2020-11-26 19:11:17.418 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:11:17.424 +08:00 [INF] Generating expiration headers.
2020-11-26 19:11:17.426 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:12:17 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:11:17.430 +08:00 [INF] Generating Validation headers.
2020-11-26 19:11:17.441 +08:00 [INF] Validation headers generated. ETag: Strong, "4388A36D21A92E58716FD9B5E3F7DC80". Last-Modified: Thu, 26 Nov 2020 11:11:17 GMT
2020-11-26 19:11:17.445 +08:00 [INF] Generating Vary header.
2020-11-26 19:11:17.447 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:11:17.460 +08:00 [INF] Request finished in 2541.678ms 200 application/json; charset=utf-8
2020-11-26 19:11:17.581 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 19:11:17.586 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:11:17.588 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:11:17.590 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:11:17.593 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:11:17.596 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:11:17.598 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:11:17.601 +08:00 [INF] Generating expiration headers.
2020-11-26 19:11:17.604 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:12:17 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:11:17.609 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 19:11:17.611 +08:00 [INF] Generating Vary header.
2020-11-26 19:11:17.614 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:11:17.617 +08:00 [INF] Request finished in 35.204ms 404 
2020-11-26 19:11:35.951 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:4200/api/post application/json 4001
2020-11-26 19:11:35.960 +08:00 [INF] CORS policy execution successful.
2020-11-26 19:11:35.970 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:11:35.973 +08:00 [INF] Not valid - method isn't GET or HEAD.
2020-11-26 19:11:35.976 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:11:35.979 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:11:35.983 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:11:35.986 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:11:36.650 +08:00 [INF] Successfully validated the token.
2020-11-26 19:11:36.656 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 19:11:36.665 +08:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Blog.Infrastructure.Resources.PostResource]] CreatePost(Blog.Infrastructure.Resources.PostAddResource) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:11:36.740 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi) - Validation state: "Valid"
2020-11-26 19:19:28.235 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:19:35.303 +08:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = -1), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Posts] ([Id], [Content], [ContentAbstract], [LastModified], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-11-26 19:19:35.411 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Blog.Infrastructure.Data.BlogDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0f8246f1-e829-4626-bdbf-763226a4fb66
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0f8246f1-e829-4626-bdbf-763226a4fb66
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-26 19:19:35.943 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.CreatePost (Blog.APi) in 479268.9036ms
2020-11-26 19:19:35.946 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 19:19:35.950 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0f8246f1-e829-4626-bdbf-763226a4fb66
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Blog.Infrastructure.Data.UnitOfWork.SaveAsync() in E:\vs项目\blog3.1\Blog.APi\Blog.Infrastructure\Data\UnitOfWork.cs:line 19
   at Blog.APi.Controllers.PostController.CreatePost(PostAddResource postAddResource) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\Controllers\PostController.cs:line 139
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 19:19:36.030 +08:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 19:19:36.079 +08:00 [ERR] Connection id "0HM4HVFU72HTJ", Request id "0HM4HVFU72HTJ:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0f8246f1-e829-4626-bdbf-763226a4fb66
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Blog.Infrastructure.Data.UnitOfWork.SaveAsync() in E:\vs项目\blog3.1\Blog.APi\Blog.Infrastructure\Data\UnitOfWork.cs:line 19
   at Blog.APi.Controllers.PostController.CreatePost(PostAddResource postAddResource) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\Controllers\PostController.cs:line 139
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2020-11-26 19:19:36.190 +08:00 [ERR] Connection id "0HM4HVFU72HTJ", Request id "0HM4HVFU72HTJ:00000001": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Http.StreamResponseBodyFeature.CompleteAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FireOnCompletedAwaited(Task currentTask, Stack`1 onCompleted)
2020-11-26 19:19:36.204 +08:00 [INF] Request finished in 480253.3806ms 0 text/plain
2020-11-26 19:20:57.803 +08:00 [INF] Hello, world!
2020-11-26 19:21:00.662 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 19:21:01.104 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 19:21:01.107 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 19:21:01.109 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 19:21:01.111 +08:00 [INF] Hosting environment: Development
2020-11-26 19:21:01.113 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 19:21:02.917 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 19:21:02.964 +08:00 [INF] Request finished in 51.4385ms 307 
2020-11-26 19:21:03.062 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 19:21:03.079 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:21:03.085 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:21:03.087 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:21:03.089 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:21:03.091 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:21:03.092 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:21:03.173 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:21:03.219 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:21:03.653 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 19:21:04.299 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:21:05.097 +08:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 19:21:05.248 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 19:21:05.351 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1686.8775ms.
2020-11-26 19:21:05.363 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 19:21:05.513 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 2284.1223ms
2020-11-26 19:21:05.517 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:21:05.521 +08:00 [INF] Generating expiration headers.
2020-11-26 19:21:05.524 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:22:05 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:21:05.528 +08:00 [INF] Generating Validation headers.
2020-11-26 19:21:05.537 +08:00 [INF] Validation headers generated. ETag: Strong, "4388A36D21A92E58716FD9B5E3F7DC80". Last-Modified: Thu, 26 Nov 2020 11:21:05 GMT
2020-11-26 19:21:05.542 +08:00 [INF] Generating Vary header.
2020-11-26 19:21:05.545 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:21:05.555 +08:00 [INF] Request finished in 2493.1855ms 200 application/json; charset=utf-8
2020-11-26 19:21:05.708 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 19:21:05.713 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:21:05.715 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:21:05.717 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:21:05.721 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:21:05.724 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:21:05.728 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:21:05.733 +08:00 [INF] Generating expiration headers.
2020-11-26 19:21:05.735 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:22:05 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:21:05.738 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 19:21:05.741 +08:00 [INF] Generating Vary header.
2020-11-26 19:21:05.745 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:21:05.749 +08:00 [INF] Request finished in 40.0486ms 404 
2020-11-26 19:21:10.975 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:4200/api/post application/json 4001
2020-11-26 19:21:10.984 +08:00 [INF] CORS policy execution successful.
2020-11-26 19:21:10.989 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:21:10.991 +08:00 [INF] Not valid - method isn't GET or HEAD.
2020-11-26 19:21:10.992 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:21:10.993 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:21:10.995 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:21:10.996 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:21:11.654 +08:00 [INF] Successfully validated the token.
2020-11-26 19:21:11.658 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 19:21:11.666 +08:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Blog.Infrastructure.Resources.PostResource]] CreatePost(Blog.Infrastructure.Resources.PostAddResource) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:21:11.742 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi) - Validation state: "Valid"
2020-11-26 19:21:29.162 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:21:34.712 +08:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = -1), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Posts] ([Id], [Content], [ContentAbstract], [LastModified], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-11-26 19:21:34.799 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Blog.Infrastructure.Data.BlogDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e11bfed0-6b39-43c0-a744-a53921b97c1b
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e11bfed0-6b39-43c0-a744-a53921b97c1b
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-26 19:21:35.301 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.CreatePost (Blog.APi) in 23629.9579ms
2020-11-26 19:21:35.304 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 19:21:35.307 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e11bfed0-6b39-43c0-a744-a53921b97c1b
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Blog.Infrastructure.Data.UnitOfWork.SaveAsync() in E:\vs项目\blog3.1\Blog.APi\Blog.Infrastructure\Data\UnitOfWork.cs:line 19
   at Blog.APi.Controllers.PostController.CreatePost(PostAddResource postAddResource) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\Controllers\PostController.cs:line 139
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 19:21:35.354 +08:00 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-26 19:21:35.368 +08:00 [ERR] Connection id "0HM4HVLDH82IM", Request id "0HM4HVLDH82IM:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 将截断字符串或二进制数据。
语句已终止。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e11bfed0-6b39-43c0-a744-a53921b97c1b
Error Number:8152,State:10,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Blog.Infrastructure.Data.UnitOfWork.SaveAsync() in E:\vs项目\blog3.1\Blog.APi\Blog.Infrastructure\Data\UnitOfWork.cs:line 19
   at Blog.APi.Controllers.PostController.CreatePost(PostAddResource postAddResource) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\Controllers\PostController.cs:line 139
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2020-11-26 19:21:35.416 +08:00 [ERR] Connection id "0HM4HVLDH82IM", Request id "0HM4HVLDH82IM:00000001": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Http.StreamResponseBodyFeature.CompleteAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.FireOnCompletedAwaited(Task currentTask, Stack`1 onCompleted)
2020-11-26 19:21:35.431 +08:00 [INF] Request finished in 24456.1129ms 500 
2020-11-26 19:25:34.862 +08:00 [INF] Hello, world!
2020-11-26 19:25:37.768 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 19:25:38.348 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 19:25:38.350 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 19:25:38.352 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 19:25:38.353 +08:00 [INF] Hosting environment: Development
2020-11-26 19:25:38.354 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 19:25:40.381 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 19:25:40.407 +08:00 [INF] Request finished in 27.9741ms 307 
2020-11-26 19:25:40.500 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 19:25:40.524 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:25:40.530 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:25:40.531 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:25:40.534 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:25:40.535 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:25:40.536 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:25:40.626 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:25:40.682 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:25:41.149 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 19:25:41.869 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:25:42.749 +08:00 [INF] Executed DbCommand (75ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 19:25:42.888 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified], [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 19:25:43.026 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1867.4698ms.
2020-11-26 19:25:43.035 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 19:25:43.192 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 2499.2355ms
2020-11-26 19:25:43.200 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:25:43.212 +08:00 [INF] Generating expiration headers.
2020-11-26 19:25:43.214 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:26:43 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:25:43.219 +08:00 [INF] Generating Validation headers.
2020-11-26 19:25:43.231 +08:00 [INF] Validation headers generated. ETag: Strong, "EE2D2DDD87DC84E00BCE04F2C71266E9". Last-Modified: Thu, 26 Nov 2020 11:25:43 GMT
2020-11-26 19:25:43.235 +08:00 [INF] Generating Vary header.
2020-11-26 19:25:43.236 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:25:43.248 +08:00 [INF] Request finished in 2748.3727ms 200 application/json; charset=utf-8
2020-11-26 19:25:43.358 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico  
2020-11-26 19:25:43.361 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:25:43.364 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 19:25:43.366 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:25:43.369 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:25:43.372 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:25:43.373 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:25:43.375 +08:00 [INF] Generating expiration headers.
2020-11-26 19:25:43.376 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:26:43 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:25:43.378 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 19:25:43.379 +08:00 [INF] Generating Vary header.
2020-11-26 19:25:43.381 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:25:43.382 +08:00 [INF] Request finished in 24.1114ms 404 
2020-11-26 19:26:21.686 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:4200/api/post application/json 4001
2020-11-26 19:26:21.694 +08:00 [INF] CORS policy execution successful.
2020-11-26 19:26:21.698 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:26:21.699 +08:00 [INF] Not valid - method isn't GET or HEAD.
2020-11-26 19:26:21.701 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:26:21.703 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:26:21.704 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:26:21.705 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:26:22.358 +08:00 [INF] Successfully validated the token.
2020-11-26 19:26:22.364 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 19:26:22.371 +08:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Blog.Infrastructure.Resources.PostResource]] CreatePost(Blog.Infrastructure.Resources.PostAddResource) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:26:22.442 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi) - Validation state: "Valid"
2020-11-26 19:26:35.597 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:26:42.601 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 420), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Posts] ([Id], [Content], [ContentAbstract], [LastModified], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-11-26 19:27:08.673 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 46228.4416ms.
2020-11-26 19:27:08.678 +08:00 [INF] Executing ObjectResult, writing value of type 'Blog.Infrastructure.Resources.PostResource'.
2020-11-26 19:27:08.774 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.CreatePost (Blog.APi) in 46398.7801ms
2020-11-26 19:27:08.778 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 19:27:08.780 +08:00 [INF] Generating expiration headers.
2020-11-26 19:27:08.781 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:28:08 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:27:08.782 +08:00 [INF] Generating Validation headers.
2020-11-26 19:27:08.784 +08:00 [INF] Validation headers generated. ETag: Strong, "F2835FF840AF0AD90B319A01437A1AF5". Last-Modified: Thu, 26 Nov 2020 11:27:08 GMT
2020-11-26 19:27:08.786 +08:00 [INF] Generating Vary header.
2020-11-26 19:27:08.787 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:27:08.789 +08:00 [INF] Request finished in 47104.025ms 201 application/json; charset=utf-8
2020-11-26 19:27:14.002 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 19:27:14.006 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:27:14.011 +08:00 [INF] No saved response found in store.
2020-11-26 19:27:14.015 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 19:27:14.018 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 19:27:14.020 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 19:27:14.022 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 19:27:14.027 +08:00 [INF] Successfully validated the token.
2020-11-26 19:27:14.032 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:27:14.036 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 19:27:14.085 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi) - Validation state: "Valid"
2020-11-26 19:27:14.097 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 19:27:14.110 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 19:27:14.137 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified] DESC, [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 19:27:14.151 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.GetPosts (Blog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.7926ms.
2020-11-26 19:27:14.155 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 19:27:14.159 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 117.1546ms
2020-11-26 19:27:14.162 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 19:27:14.164 +08:00 [INF] Generating expiration headers.
2020-11-26 19:27:14.166 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 11:28:14 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 19:27:14.169 +08:00 [INF] Generating Validation headers.
2020-11-26 19:27:14.170 +08:00 [INF] Validation headers generated. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189". Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT
2020-11-26 19:27:14.172 +08:00 [INF] Generating Vary header.
2020-11-26 19:27:14.173 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 19:27:14.177 +08:00 [INF] Request finished in 174.8729ms 200 application/json; charset=utf-8
2020-11-26 19:30:04.088 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 19:30:04.090 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:30:04.094 +08:00 [INF] Checking If-None-Match.
2020-11-26 19:30:04.095 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:30:04.098 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:30:04.100 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 19:30:04.104 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 19:30:04.106 +08:00 [INF] Request finished in 18.9733ms 304 
2020-11-26 19:32:17.465 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 19:32:17.480 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:32:17.498 +08:00 [INF] Checking If-None-Match.
2020-11-26 19:32:17.501 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:32:17.503 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:32:17.504 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 19:32:17.510 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 19:32:17.517 +08:00 [INF] Request finished in 51.8683ms 304 
2020-11-26 19:34:22.856 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 19:34:22.861 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:34:22.864 +08:00 [INF] Checking If-None-Match.
2020-11-26 19:34:22.867 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:34:22.869 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:34:22.871 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 19:34:22.873 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 19:34:22.881 +08:00 [INF] Request finished in 23.9499ms 304 
2020-11-26 19:35:27.118 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 19:35:27.121 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 19:35:27.124 +08:00 [INF] Checking If-None-Match.
2020-11-26 19:35:27.126 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:35:27.129 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 19:35:27.139 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 19:35:27.145 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 19:35:27.154 +08:00 [INF] Request finished in 35.07ms 304 
2020-11-26 20:12:53.181 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:12:53.183 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:12:53.185 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:12:53.186 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 20:12:53.187 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 20:12:53.189 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:12:53.192 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 20:12:53.194 +08:00 [INF] Request finished in 13.6756ms 304 
2020-11-26 20:13:39.509 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:4200/api/post application/json 465
2020-11-26 20:13:39.513 +08:00 [INF] CORS policy execution successful.
2020-11-26 20:13:39.517 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:13:39.521 +08:00 [INF] Not valid - method isn't GET or HEAD.
2020-11-26 20:13:39.542 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 20:13:39.548 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 20:13:39.551 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 20:13:39.553 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 20:13:39.558 +08:00 [INF] Successfully validated the token.
2020-11-26 20:13:39.560 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 20:13:39.563 +08:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Blog.Infrastructure.Resources.PostResource]] CreatePost(Blog.Infrastructure.Resources.PostAddResource) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 20:13:39.614 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi) - Validation state: "Valid"
2020-11-26 20:15:19.357 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 20:15:19.410 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 420), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Posts] ([Id], [Content], [ContentAbstract], [LastModified], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-11-26 20:15:19.417 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 99799.1152ms.
2020-11-26 20:15:19.422 +08:00 [INF] Executing ObjectResult, writing value of type 'Blog.Infrastructure.Resources.PostResource'.
2020-11-26 20:15:19.439 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.CreatePost (Blog.APi) in 99872.4518ms
2020-11-26 20:15:19.444 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 20:15:19.447 +08:00 [INF] Generating expiration headers.
2020-11-26 20:15:19.449 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 12:16:19 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 20:15:19.452 +08:00 [INF] Generating Validation headers.
2020-11-26 20:15:19.454 +08:00 [INF] Validation headers generated. ETag: Strong, "36FA3FBB9CFB594B949FBEAC857EEB7B". Last-Modified: Thu, 26 Nov 2020 12:15:19 GMT
2020-11-26 20:15:19.456 +08:00 [INF] Generating Vary header.
2020-11-26 20:15:19.459 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 20:15:19.463 +08:00 [INF] Request finished in 99953.6174ms 201 application/json; charset=utf-8
2020-11-26 20:15:34.352 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:4200/api/post application/json 1772
2020-11-26 20:15:34.355 +08:00 [INF] CORS policy execution successful.
2020-11-26 20:15:34.358 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:15:34.359 +08:00 [INF] Not valid - method isn't GET or HEAD.
2020-11-26 20:15:34.360 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 20:15:34.361 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 20:15:34.364 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 20:15:34.366 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 20:15:34.369 +08:00 [INF] Successfully validated the token.
2020-11-26 20:15:34.370 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 20:15:34.374 +08:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Blog.Infrastructure.Resources.PostResource]] CreatePost(Blog.Infrastructure.Resources.PostAddResource) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 20:15:34.409 +08:00 [INF] Executing action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi) - Validation state: "Valid"
2020-11-26 20:15:37.163 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 20:15:37.176 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 420), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Posts] ([Id], [Content], [ContentAbstract], [LastModified], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4);
2020-11-26 20:15:37.182 +08:00 [INF] Executed action method Blog.APi.Controllers.PostController.CreatePost (Blog.APi), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 2768.6796ms.
2020-11-26 20:15:37.185 +08:00 [INF] Executing ObjectResult, writing value of type 'Blog.Infrastructure.Resources.PostResource'.
2020-11-26 20:15:37.187 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.CreatePost (Blog.APi) in 2811.3518ms
2020-11-26 20:15:37.190 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.CreatePost (Blog.APi)'
2020-11-26 20:15:37.192 +08:00 [INF] Generating expiration headers.
2020-11-26 20:15:37.194 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 12:16:37 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 20:15:37.196 +08:00 [INF] Generating Validation headers.
2020-11-26 20:15:37.199 +08:00 [INF] Validation headers generated. ETag: Strong, "B4DC1FDA5B1B9173AF2F121DC7A6595C". Last-Modified: Thu, 26 Nov 2020 12:15:37 GMT
2020-11-26 20:15:37.203 +08:00 [INF] Generating Vary header.
2020-11-26 20:15:37.206 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 20:15:37.209 +08:00 [INF] Request finished in 2857.297ms 201 application/json; charset=utf-8
2020-11-26 20:15:43.043 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:15:43.044 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:15:43.047 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:15:43.048 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 20:15:43.050 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 20:15:43.053 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:15:43.055 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 20:15:43.057 +08:00 [INF] Request finished in 14.1924ms 304 
2020-11-26 20:16:49.563 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:16:49.565 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:16:49.567 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:16:49.568 +08:00 [INF] Checking If-None-Match: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 20:16:49.570 +08:00 [INF] ETag valid: "9A479F51EBE84B5AB2901A70E2AD2189".
2020-11-26 20:16:49.571 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:16:49.572 +08:00 [INF] Generation done. ETag: Strong, "9A479F51EBE84B5AB2901A70E2AD2189", Last-Modified: Thu, 26 Nov 2020 11:27:14 GMT.
2020-11-26 20:16:49.575 +08:00 [INF] Request finished in 11.7111ms 304 
2020-11-26 20:17:11.191 +08:00 [INF] Application is shutting down...
2020-11-26 20:26:28.628 +08:00 [INF] Hello, world!
2020-11-26 20:26:29.172 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 20:26:29.375 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 20:26:29.378 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 20:26:29.380 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 20:26:29.381 +08:00 [INF] Hosting environment: Development
2020-11-26 20:26:29.383 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 20:30:03.119 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:30:03.134 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:30:03.142 +08:00 [INF] No saved response found in store.
2020-11-26 20:30:03.143 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 20:30:03.145 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 20:30:03.146 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 20:30:03.147 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 20:30:03.627 +08:00 [INF] Successfully validated the token.
2020-11-26 20:30:03.632 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 20:30:03.673 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 20:30:04.564 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 20:30:05.194 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 20:30:05.329 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified] DESC, [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 20:30:05.440 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 20:30:05.486 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 1803.9263ms
2020-11-26 20:30:05.492 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 20:30:05.496 +08:00 [INF] Generating expiration headers.
2020-11-26 20:30:05.501 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 12:31:05 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 20:30:05.505 +08:00 [INF] Generating Validation headers.
2020-11-26 20:30:05.508 +08:00 [INF] Validation headers generated. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5". Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT
2020-11-26 20:30:05.511 +08:00 [INF] Generating Vary header.
2020-11-26 20:30:05.512 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 20:30:05.524 +08:00 [INF] Request finished in 2409.2315ms 200 application/json; charset=utf-8
2020-11-26 20:31:26.446 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:31:26.449 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:31:26.452 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:31:26.453 +08:00 [INF] Checking If-None-Match: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:31:26.455 +08:00 [INF] ETag valid: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:31:26.458 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:31:26.462 +08:00 [INF] Generation done. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5", Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT.
2020-11-26 20:31:26.464 +08:00 [INF] Request finished in 18.7746ms 304 
2020-11-26 20:34:48.039 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:34:48.044 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:34:48.046 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:34:48.048 +08:00 [INF] Checking If-None-Match: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:34:48.050 +08:00 [INF] ETag valid: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:34:48.051 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:34:48.053 +08:00 [INF] Generation done. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5", Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT.
2020-11-26 20:34:48.056 +08:00 [INF] Request finished in 17.1365ms 304 
2020-11-26 20:35:49.377 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:35:49.382 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:35:49.384 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:35:49.385 +08:00 [INF] Checking If-None-Match: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:35:49.386 +08:00 [INF] ETag valid: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:35:49.389 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:35:49.391 +08:00 [INF] Generation done. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5", Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT.
2020-11-26 20:35:49.393 +08:00 [INF] Request finished in 16.8758ms 304 
2020-11-26 20:37:19.698 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:37:19.706 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:37:19.709 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:37:19.711 +08:00 [INF] Checking If-None-Match: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:37:19.713 +08:00 [INF] ETag valid: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:37:19.715 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:37:19.717 +08:00 [INF] Generation done. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5", Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT.
2020-11-26 20:37:19.721 +08:00 [INF] Request finished in 23.1918ms 304 
2020-11-26 20:38:28.735 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:38:28.771 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:38:28.805 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:38:28.814 +08:00 [INF] Checking If-None-Match: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:38:28.815 +08:00 [INF] ETag valid: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:38:28.818 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:38:28.822 +08:00 [INF] Generation done. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5", Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT.
2020-11-26 20:38:28.824 +08:00 [INF] Request finished in 88.9645ms 304 
2020-11-26 20:41:15.224 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 20:41:15.228 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 20:41:15.230 +08:00 [INF] Checking If-None-Match.
2020-11-26 20:41:15.232 +08:00 [INF] Checking If-None-Match: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:41:15.235 +08:00 [INF] ETag valid: "FC4CF8515A23F92954A5025C24AA7DB5".
2020-11-26 20:41:15.237 +08:00 [INF] Generating 304 - Not Modified.
2020-11-26 20:41:15.240 +08:00 [INF] Generation done. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5", Last-Modified: Thu, 26 Nov 2020 12:30:05 GMT.
2020-11-26 20:41:15.243 +08:00 [INF] Request finished in 18.1385ms 304 
2020-11-26 20:41:58.312 +08:00 [INF] Hello, world!
2020-11-26 20:41:58.891 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 20:41:59.140 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 20:41:59.143 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 20:41:59.145 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 20:41:59.146 +08:00 [INF] Hosting environment: Development
2020-11-26 20:41:59.148 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 20:48:38.474 +08:00 [INF] Hello, world!
2020-11-26 20:48:39.011 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 20:48:39.207 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 20:48:39.210 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 20:48:39.212 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 20:48:39.213 +08:00 [INF] Hosting environment: Development
2020-11-26 20:48:39.215 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 20:51:10.111 +08:00 [INF] Hello, world!
2020-11-26 20:51:10.662 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 20:51:10.878 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 20:51:10.880 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 20:51:10.883 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 20:51:10.884 +08:00 [INF] Hosting environment: Development
2020-11-26 20:51:10.886 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 20:52:20.216 +08:00 [INF] Hello, world!
2020-11-26 20:52:20.872 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 20:52:21.132 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 20:52:21.133 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 20:52:21.136 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 20:52:21.137 +08:00 [INF] Hosting environment: Development
2020-11-26 20:52:21.142 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 20:54:18.253 +08:00 [INF] Hello, world!
2020-11-26 20:54:18.814 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 20:54:18.934 +08:00 [FTL] Application startup exception
System.InvalidOperationException: Action 'Blog.APi.Controllers.CategoryController.GetCategories (Blog.APi)' does not have an attribute route. Action methods on controllers annotated with ApiControllerAttribute must be attribute routed.
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.EnsureActionIsAttributeRouted(ActionModel actionModel)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.<>c__DisplayClass11_0.<Subscribe>b__0()
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)
   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()
   at Microsoft.AspNetCore.Mvc.Routing.ControllerActionEndpointDataSource..ctor(IActionDescriptorCollectionProvider actions, ActionEndpointFactory endpointFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at Blog.APi.StartupDevelopment.<>c.<Configure>b__3_0(IEndpointRouteBuilder endpoints) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 139
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at Blog.APi.StartupDevelopment.Configure(IApplicationBuilder app) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 137
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2020-11-26 21:06:34.599 +08:00 [INF] Hello, world!
2020-11-26 21:06:35.238 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 21:06:35.334 +08:00 [FTL] Application startup exception
System.InvalidOperationException: Action 'Blog.APi.Controllers.CategoryController.GetCategories (Blog.APi)' does not have an attribute route. Action methods on controllers annotated with ApiControllerAttribute must be attribute routed.
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.EnsureActionIsAttributeRouted(ActionModel actionModel)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.<>c__DisplayClass11_0.<Subscribe>b__0()
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)
   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()
   at Microsoft.AspNetCore.Mvc.Routing.ControllerActionEndpointDataSource..ctor(IActionDescriptorCollectionProvider actions, ActionEndpointFactory endpointFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at Blog.APi.StartupDevelopment.<>c.<Configure>b__3_0(IEndpointRouteBuilder endpoints) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 139
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at Blog.APi.StartupDevelopment.Configure(IApplicationBuilder app) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 137
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2020-11-26 21:07:09.201 +08:00 [INF] Hello, world!
2020-11-26 21:07:09.718 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 21:07:09.816 +08:00 [FTL] Application startup exception
System.InvalidOperationException: Action 'Blog.APi.Controllers.CategoryController.GetCategories (Blog.APi)' does not have an attribute route. Action methods on controllers annotated with ApiControllerAttribute must be attribute routed.
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.EnsureActionIsAttributeRouted(ActionModel actionModel)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.<>c__DisplayClass11_0.<Subscribe>b__0()
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)
   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()
   at Microsoft.AspNetCore.Mvc.Routing.ControllerActionEndpointDataSource..ctor(IActionDescriptorCollectionProvider actions, ActionEndpointFactory endpointFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at Blog.APi.StartupDevelopment.<>c.<Configure>b__3_0(IEndpointRouteBuilder endpoints) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 139
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at Blog.APi.StartupDevelopment.Configure(IApplicationBuilder app) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 137
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2020-11-26 21:09:53.031 +08:00 [INF] Hello, world!
2020-11-26 21:09:53.646 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 21:09:53.783 +08:00 [FTL] Application startup exception
System.InvalidOperationException: Action 'Blog.APi.Controllers.CategoryController.GetCategories (Blog.APi)' does not have an attribute route. Action methods on controllers annotated with ApiControllerAttribute must be attribute routed.
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.EnsureActionIsAttributeRouted(ActionModel actionModel)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.<>c__DisplayClass11_0.<Subscribe>b__0()
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)
   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)
   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()
   at Microsoft.AspNetCore.Mvc.Routing.ControllerActionEndpointDataSource..ctor(IActionDescriptorCollectionProvider actions, ActionEndpointFactory endpointFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at Blog.APi.StartupDevelopment.<>c.<Configure>b__3_0(IEndpointRouteBuilder endpoints) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 139
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at Blog.APi.StartupDevelopment.Configure(IApplicationBuilder app) in E:\vs项目\blog3.1\Blog.APi\Blog.APi\StartupDevelopment.cs:line 137
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2020-11-26 21:11:32.282 +08:00 [INF] Hello, world!
2020-11-26 21:11:32.930 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 21:11:33.249 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 21:11:33.251 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 21:11:33.253 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 21:11:33.255 +08:00 [INF] Hosting environment: Development
2020-11-26 21:11:33.257 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 21:11:47.460 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/post?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 21:11:47.477 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 21:11:47.488 +08:00 [INF] No saved response found in store.
2020-11-26 21:11:47.489 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 21:11:47.492 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 21:11:47.493 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 21:11:47.495 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 21:11:48.145 +08:00 [INF] Successfully validated the token.
2020-11-26 21:11:48.152 +08:00 [INF] Executing endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 21:11:48.202 +08:00 [INF] Route matched with {action = "GetPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPosts(Blog.Core.Entities.PostResourceParameters) on controller Blog.APi.Controllers.PostController (Blog.APi).
2020-11-26 21:11:49.199 +08:00 [INF] Entity Framework Core 3.1.10 initialized 'BlogDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-26 21:11:49.873 +08:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
2020-11-26 21:11:50.044 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[ContentAbstract], [t].[LastModified], [t].[Title], [t0].[PostId], [t0].[CategoryId], [t0].[Id], [t0].[Name], [t0].[Note]
FROM (
    SELECT [p].[Id], [p].[Content], [p].[ContentAbstract], [p].[LastModified], [p].[Title]
    FROM [Posts] AS [p]
    ORDER BY [p].[LastModified] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[Name], [c].[Note]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[LastModified] DESC, [t].[Id], [t0].[PostId], [t0].[CategoryId], [t0].[Id]
2020-11-26 21:11:50.158 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Blog.Infrastructure.Resources.PostResource, Blog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-26 21:11:50.236 +08:00 [INF] Executed action Blog.APi.Controllers.PostController.GetPosts (Blog.APi) in 2017.2871ms
2020-11-26 21:11:50.240 +08:00 [INF] Executed endpoint 'Blog.APi.Controllers.PostController.GetPosts (Blog.APi)'
2020-11-26 21:11:50.252 +08:00 [INF] Generating expiration headers.
2020-11-26 21:11:50.254 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 13:12:50 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 21:11:50.258 +08:00 [INF] Generating Validation headers.
2020-11-26 21:11:50.265 +08:00 [INF] Validation headers generated. ETag: Strong, "FC4CF8515A23F92954A5025C24AA7DB5". Last-Modified: Thu, 26 Nov 2020 13:11:50 GMT
2020-11-26 21:11:50.267 +08:00 [INF] Generating Vary header.
2020-11-26 21:11:50.269 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 21:11:50.285 +08:00 [INF] Request finished in 2829.3776ms 200 application/json; charset=utf-8
2020-11-26 21:11:53.723 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:4200/api/posts?orderBy=LastModified%20desc&pageSize=10&pageIndex=1  
2020-11-26 21:11:53.732 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 21:11:53.734 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 21:11:53.735 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 21:11:53.737 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 21:11:53.739 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 21:11:53.740 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 21:11:53.746 +08:00 [INF] Successfully validated the token.
2020-11-26 21:11:53.749 +08:00 [INF] Generating expiration headers.
2020-11-26 21:11:53.751 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 13:12:53 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 21:11:53.754 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 21:11:53.759 +08:00 [INF] Generating Vary header.
2020-11-26 21:11:53.795 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 21:11:53.803 +08:00 [INF] Request finished in 79.759ms 404 
2020-11-26 21:12:37.745 +08:00 [INF] Hello, world!
2020-11-26 21:12:38.481 +08:00 [INF] User profile is available. Using 'C:\Users\lll\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-26 21:12:38.711 +08:00 [INF] Now listening on: https://localhost:7001
2020-11-26 21:12:38.713 +08:00 [INF] Now listening on: http://localhost:7000
2020-11-26 21:12:38.714 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-26 21:12:38.717 +08:00 [INF] Hosting environment: Development
2020-11-26 21:12:38.718 +08:00 [INF] Content root path: E:\vs项目\blog3.1\Blog.APi\Blog.APi
2020-11-26 21:12:45.346 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/api/post  
2020-11-26 21:12:45.369 +08:00 [INF] Request finished in 27.8337ms 307 
2020-11-26 21:12:45.465 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/post  
2020-11-26 21:12:45.478 +08:00 [INF] Checking for conditional GET/HEAD.
2020-11-26 21:12:45.486 +08:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2020-11-26 21:12:45.488 +08:00 [INF] Don't generate 304 - Not Modified.  Continue.
2020-11-26 21:12:45.492 +08:00 [INF] Checking for conditional PUT/PATCH.
2020-11-26 21:12:45.493 +08:00 [INF] Not valid - method isn't PUT or PATCH.
2020-11-26 21:12:45.496 +08:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2020-11-26 21:12:45.570 +08:00 [INF] Generating expiration headers.
2020-11-26 21:12:45.575 +08:00 [INF] Expiration headers generated. Expires: Thu, 26 Nov 2020 13:13:45 GMT. Cache-Control: private,max-age=60,must-revalidate.
2020-11-26 21:12:45.590 +08:00 [INF] Not generating Validation headers as the response status code does not indicate succes.
2020-11-26 21:12:45.592 +08:00 [INF] Generating Vary header.
2020-11-26 21:12:45.594 +08:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2020-11-26 21:12:45.603 +08:00 [INF] Request finished in 137.8878ms 404 
2020-11-26 21:12:58.429 +08:00 [INF] Application is shutting down...
